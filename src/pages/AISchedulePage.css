/* src/pages/AISchedulePage.css â€” v5.2 (buttons align with boards) */

/* ===== Root scale ===== */
:root{
  --ai-time-col: 84px;
  --ai-row-h: 36px;
}

/* ===== Page ===== */
.ai-schedule.container{
  max-width: 980px;
  margin: 0 auto;
  padding: 24px 16px 88px;
}
.ai-schedule.container h1{
  text-align: center;
  font-size: clamp(18px, 2.2vw, 26px);
  line-height: 1.25;
  margin: 0 0 14px;
}

/* ìƒë‹¨ ì¢Œ/ìš° ë²„íŠ¼ ë°” */
.topbar{
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  margin: 8px 0 18px;
}
.topbar .left{ justify-self: start; }
.topbar .right{ justify-self: end; }

/* ===== Buttons ê¸°ë³¸ ìŠ¤íƒ€ì¼ ===== */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:6px;
  height:36px; padding:0 14px; border-radius:10px;
  border:1px solid #d1d5db;
  background:#6b7280; color:#fff;
  cursor:pointer; user-select:none;
  width:auto;
  min-width:auto;
  flex:0 0 auto;
  font-weight:400;
}
.btn:hover{ filter:brightness(.98); }
.btn:active{ transform:translateY(1px); }

.btn.primary{ background:#111827; border-color:#111827; color:#fff; }
.btn.ghost  { background:#6b7280; border-color:#6b7280; color:#fff; }
/* ğŸš¨ ì·¨ì†Œ ë²„íŠ¼ ë¹¨ê°„ìƒ‰ ìŠ¤íƒ€ì¼ */
.btn.cancel { 
    background: #dc2626 !important; 
    border-color: #dc2626 !important; 
    color: #fff !important; 
}
/* ------------------------------------------- */
.btn.sm     { height:30px; padding:0 10px; font-size:12px; border-radius:8px; }
.btn.xs     { height:28px; padding:0 8px; font-size:12px; border-radius:8px; }
.btn.micro{
  height:24px !important; line-height:24px !important;
  padding:0 10px !important; font-size:12px !important;
  border-radius:9999px !important;
  width:auto !important; min-width:auto !important;
}
.btn.on  { background:#4b5563; border-color:#4b5563; color:#fff; }
.btn.off { background:#9ca3af; border-color:#9ca3af; color:#fff; }

/* ===== Two boards ===== */
.boards{
  display:grid; grid-template-columns:1fr 1fr; gap:18px; align-items:start;
  margin-bottom:22px;
}
@media (max-width:980px){ .boards{ grid-template-columns:1fr; } }

/* ğŸš¨ ì‹œê°„í‘œ ì¹´ë“œ ì™¸ë¶€ í”„ë ˆì„ êµµê²Œ (2px) ë³€ê²½ */
.plan-card{
  background:#fff; 
  border:2px solid #000 !important; /* êµµì€ ê²€ì€ìƒ‰ ì‹¤ì„  (2px) */
  border-radius:12px; overflow:hidden;
  box-shadow:0 1px 2px rgba(0,0,0,.04);
  display:flex; flex-direction:column; min-width:0; height:560px;
}

/* í—¤ë” */
.plan-head{
  position:sticky; top:0; z-index:1;
  display:grid; grid-template-columns:var(--ai-time-col) 1fr;
  gap:10px;
  background:#f8f9fc; 
  border-bottom:2px solid #000 !important; /* í—¤ë” í•˜ë‹¨ êµ¬ë¶„ì„  êµµê²Œ (2px) ë³€ê²½ */
  padding:10px 12px; font-weight:700; color:#222;
}
.left-plan-titles{
  display:flex; align-items:center; justify-content:space-between; flex-grow:1; min-width:0;
}
.left-plan-titles .title-group{
  display:flex; gap:10px; align-items:center; flex-shrink:1; min-width:0;
}
.left-plan-titles .title-group .head-title:first-child{ font-weight:800 !important; }
/* ğŸš¨ "ì‹œê°„ ë¹„ìš°ê¸° ì„¤ì • (í´ë¦­)" í…ìŠ¤íŠ¸ êµµê¸°ë¥¼ 400ìœ¼ë¡œ ë³€ê²½ */
.left-plan-titles .title-group .head-title{ font-weight:400 !important; white-space:nowrap; } 

.left-plan-titles .btn.micro{ flex-shrink:0; margin-left:10px; }
.head-inline{ 
    /* ğŸš¨ ìˆ˜ì •: ë²„íŠ¼ ì˜¤ë¥¸ìª½ ì •ë ¬ì„ ìœ„í•´ justify-content: space-between ì ìš© */
    display:flex !important; 
    align-items:center !important; 
    gap:8px; 
    white-space:nowrap; 
    justify-content: space-between !important;
    flex-grow: 1 !important; 
}
.head-title{ font-weight:700; }
.plan-head .btn.micro{ 
    margin-left:6px;
    flex-shrink: 0 !important; 
    order: 999; 
}

/* ë³¸ë¬¸ ìŠ¤í¬ë¡¤ */
.plan-body{ flex:1 1 auto; overflow:auto; scrollbar-gutter:stable both-edges; }

/* í–‰ */
/* ğŸš¨ ì‹œê°„í‘œ í–‰ êµ¬ë¶„ì„  êµµê²Œ (1px ìœ ì§€) ë³€ê²½ */
.plan-row{
  display:grid; grid-template-columns:var(--ai-time-col) 1fr; align-items:center;
  min-height:var(--ai-row-h); padding:8px 12px;
  border-bottom:1px solid #000 !important; 
  font-size:14px;
}
.plan-row:last-child{ border-bottom:0 !important; } 

.plan-time{ color:#6b7280; font-variant-numeric:tabular-nums; font-feature-settings:"tnum"; }
.plan-what{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; border-radius:8px; padding:4px 6px; }

/* ìƒíƒœ ì»¬ëŸ¬ */
.plan-row.is-wake  .plan-what{ font-weight:700; }
.plan-row.is-fixed .plan-what{ background:#f6f7f9; color:#6a7688; }
.plan-row.is-meal  .plan-what{ background:#fff7ed; }
.plan-row.is-sleep .plan-what{ background:#f1f5f9; }
.plan-row.is-blocked .plan-what{ background:#fff1f1; border:1px solid #ffd2d2; color:#b91c1c; text-align:center; }
.plan-row.has-preview .plan-what{ background:#eef6ff; border:0 !important; }

.plan-row.marker{ background:#fafafa; font-weight:700; }

/* ëŒ€ìƒ í•  ì¼ */
.section-head{
  display:flex !important; justify-content:center !important; align-items:center !important;
  flex-wrap:nowrap !important; gap:12px !important; margin:10px 0 12px !important;
}
.section-head .section-title{
  margin:0 !important; line-height:1 !important; white-space:nowrap !important;
}
.section-head .btn{
  width:auto !important; min-width:auto !important; flex:0 0 auto !important;
  display:inline-flex !important; height:30px !important; padding:0 12px !important;
  font-size:13px !important; border-radius:10px !important;
}

/* Todo pills */
.todo-pills{
    display:flex; flex-direction:column;
    gap:3px !important; 
}
.todo-pills.warn .pill{ background:#fff7f7; border-color:#ffdede; }

/* ğŸš¨ í•  ì¼ ëª©ë¡ í”„ë ˆì„ êµµê²Œ (2px) ë³€ê²½ ë° Flexbox ì„¤ì • ìœ ì§€ */
.pill{
  background:#fff; 
  border:2px solid #000 !important; /* êµµì€ ê²€ì€ìƒ‰ ì‹¤ì„  (2px) ì ìš© */
  border-radius:14px;
  /* íŒ¨ë”© ìµœì†Œí™” */
  padding:2px 14px !important; 
  box-shadow:0 1px 2px rgba(0,0,0,.03);
  
  /* Flexbox ì»¨í…Œì´ë„ˆ */
  margin-left: 2px !important; 
  display:flex !important; 
  align-items:center !important; /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
  justify-content: space-between !important; /* í—¤ë”ì™€ ì»¨íŠ¸ë¡¤ ì˜ì—­ ì¢Œìš° ë¶„ë¦¬ */
  gap: 12px; /* Flex í•­ëª© ê°„ ê°„ê²© */
  min-height: 40px !important; /* í•­ëª© ìµœì†Œ ë†’ì´ ì§€ì • */
}
/* ğŸš¨ ì™¼ìª½ í…Œë‘ë¦¬ ê³µê°„ í™•ë³´ ë° is-first ì²˜ë¦¬ */
.pill.is-first{ 
  border-left:2px solid #000 !important; 
  padding-left:14px !important; 
} 
.pill.disabled{ opacity:.55; filter:grayscale(.12); }

.pill-head{ 
  /* Flexbox í•˜ì—ì„œ 1ì—´ ì—­í•  (ì™¼ìª½) */
  flex-grow: 1; /* ë‚¨ì€ ê³µê°„ ëª¨ë‘ ì°¨ì§€ */
  display:flex; 
  align-items:center !important; /* ë‚´ë¶€ ìš”ì†Œ ì¤‘ì•™ ì •ë ¬ */
  gap:12px; 
  margin:4px 0 !important; 
  padding: 0 !important;
}
.pill-left{ 
    display:flex; 
    align-items:center !important; /* ë‚´ë¶€ ìš”ì†Œ ì¤‘ì•™ ì •ë ¬ */
    gap:8px; 
    min-width:0; 
}
.pill-title{ font-weight:800; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.pill-idx{ display:inline-block; min-width:0; background:transparent !important; border:0 !important; box-shadow:none !important; color:#6b7280; font-weight:700; font-size:12px; margin-right:6px; padding:0 !important; }
.pill-meta-inline{ display:flex; align-items:center; gap:8px; margin-left:12px; }
.chip{ display:inline-flex; align-items:center; height:22px; line-height:22px; padding:0 8px; border-radius:9999px; font-size:12px; }
.chip.fill   { background:#4b5563; color:#fff; font-weight:600; }
.chip.outline{ background:#fff; color:#6b7280; border:1px solid #e5e7eb; }

.pill-controls{
  /* Flexbox í•˜ì—ì„œ 2ì—´ ì—­í•  (ì˜¤ë¥¸ìª½) */
  flex-shrink: 0;
  display:flex !important;
  align-items:center !important; /* ë‚´ë¶€ ìš”ì†Œ ì¤‘ì•™ ì •ë ¬ */
  gap:6px !important;
  margin:0 !important;
  padding: 0 !important;
  min-height: 28px !important; 
}

/* label ë° input ìŠ¤íƒ€ì¼ (ì—¬ë°± ì••ì¶• ë° ì¤‘ì•™ ì •ë ¬) */
.pill-controls label {
    display: flex !important; 
    align-items: center !important; 
    gap: 4px !important; 
    font-size: 13px !important; 
    line-height: 1 !important; 
    white-space: nowrap !important;
    margin: 0 !important; 
    padding: 0 !important; 
}
.pill-controls label, 
.pill-controls input[type="number"], 
.pill-controls .btn {
  vertical-align: middle !important; 
}

.pill-controls input[type="number"] {
    height: 26px !important; 
    padding: 0 4px !important;
    font-size: 13px !important;
    box-sizing: border-box !important; 
    border-radius: 6px !important; 
    min-width: 60px !important;
    margin: 0 !important; 
}

.pill-controls .btn{ 
    height:26px !important; 
    padding:0 10px !important; 
    font-size:12px !important; 
    border-radius:8px !important; 
    width:auto !important; 
    min-width:auto !important; 
}

/* Scrollbar */
.plan-body::-webkit-scrollbar{ width:8px; height:8px; }
.plan-body::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:8px; }
.plan-body::-webkit-scrollbar-track{ background:transparent; }

/* Boards ë™ì¼ ë†’ì´ */
.ai-schedule .boards .plan-card{ height:600px !important; }
@media (max-width:980px){ .ai-schedule .boards .plan-card{ height:560px !important; } }

/* ===== v5.2 í•˜ë‹¨ ë²„íŠ¼ ì¢Œìš° ê³„íší‘œ í­ê³¼ ì •ë ¬ ===== */
.ai-schedule .bottom-bar{
  display:grid;
  grid-template-columns:1fr 1fr; /* ì¢Œ/ìš° ë²„íŠ¼ ê° 1fr */
  gap:18px;
  width:100%;
  max-width:980px;
  margin:20px auto 0;
  padding:0 0 20px 0;
  box-sizing:border-box;
}
.ai-schedule .bottom-bar .btn{
  width:100% !important;   /* ê° ë²„íŠ¼ì´ ì¹¸ ì „ì²´ ì±„ìš°ê¸° */
  height:50px !important;
  font-size:16px !important;
  border-radius:10px;
  min-width:130px;
  flex:unset;              /* flex ì œê±° */
}
@media (max-width:640px){
  .ai-schedule .bottom-bar{
    display:flex;
    flex-direction:column;
    gap:10px;
    padding:16px;
  }
  .ai-schedule .bottom-bar .btn{
    width:100% !important;
    height:44px !important;
  }
}